---
import Layout from '../../layouts/Layout.astro';
import { getRecentWords, formatDisplayDate } from '../../lib/words';

const db = Astro.locals.runtime.env.DB;
const words = await getRecentWords(db, 10);
---

<Layout title="Archief â€” Woordenschat">
  <h1 class="page-heading">Archief</h1>
  <ul class="archive-list">
    {words.map(({ date, word }) => (
      <li>
        <a href={`/archive/${date}`} class="archive-item">
          <span class="archive-word">{word}</span>
          <span class="archive-date">{formatDisplayDate(date)}</span>
        </a>
      </li>
    ))}
  </ul>
</Layout>
